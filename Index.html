<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Lottery App v11</title>

<style>
body{
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  margin:16px;
  background:#fafafa;
}

/* ---------- Header ---------- */
.top{
  display:flex;
  justify-content:space-between;
  gap:12px;
  align-items:flex-start;
}
h1{font-size:20px;margin:0 0 6px}
.small{font-size:13px;color:#555;line-height:1.35}
.pill{
  display:inline-block;
  padding:4px 10px;
  border-radius:999px;
  background:#f1f1f1;
  border:1px solid #e5e5e5;
  font-weight:800;
  font-size:12px;
}

/* ---------- Tabs ---------- */
.tabs{
  display:flex;
  gap:10px;
  margin:14px 0;
}

/* UNSELECTED tabs â€” clearly visible */
.tab{
  flex:1;
  padding:12px;
  border-radius:14px;
  border:2px solid #8ab4ff;
  background:#eaf2ff;
  color:#0b2a5a;
  font-weight:950;
  font-size:15px;
}

/* Selected tab */
.tab.active{
  background:#111;
  color:#fff;
  border-color:#111;
}

/* ---------- Cards ---------- */
.card{
  background:#fff;
  border:1px solid #e5e5e5;
  border-radius:16px;
  padding:14px;
  margin:14px 0;
  box-shadow:0 1px 4px rgba(0,0,0,.06);
}

label{
  display:block;
  font-weight:900;
  margin-top:10px;
}

select,input,textarea,button{
  width:100%;
  padding:10px;
  font-size:16px;
  margin-top:6px;
  border-radius:12px;
  border:1px solid #ddd;
  background:#fff;
}

textarea{
  height:110px;
  font-family:ui-monospace,monospace;
}

button{
  border:0;
  background:#111;
  color:#fff;
  font-weight:900;
}

button.secondary{background:#555}
button.danger{background:#b00020}
button:disabled{background:#999}

/* ---------- Layout ---------- */
.row{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
}

.btnrow{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin-top:10px;
}

.btnrow button{
  flex:1;
  min-width:160px;
}

.numbers{
  font-size:20px;
  font-weight:950;
  padding:12px;
  border:2px dashed #999;
  border-radius:14px;
  text-align:center;
  background:#fff;
}

.note{
  background:#fff7e6;
  border:1px solid #ffe2a8;
  padding:10px;
  border-radius:12px;
}

.chips{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
}

.chip{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:6px 10px;
  border-radius:999px;
  background:#fff;
  border:1px solid #e5e5e5;
  font-weight:900;
  font-size:13px;
}

.chip span{
  font-weight:800;
  color:#666;
  font-size:12px;
}

.sep{color:#bbb;font-weight:900}

/* default visibility (safe if JS fails) */
#viewGen,#viewPred{display:none}
.ok{color:#0a7;font-weight:800}
.err{color:#c00;font-weight:800}
</style>
</head>

<body>

<div class="top">
  <div>
    <h1>Lottery App <span class="pill">v11</span></h1>
    <div class="small">
      CSV format:<br>
      <code>game,draw_date,n1,n2,n3,n4,n5,bonus</code>
    </div>
  </div>
  <div style="text-align:right">
    <div class="pill">Today</div>
    <div id="todayPretty" style="font-weight:950;margin-top:6px"></div>
    <div id="todayISO" class="small"></div>
  </div>
</div>

<div class="tabs">
  <button class="tab active" id="tDb">Database</button>
  <button class="tab" id="tGen">Generator</button>
  <button class="tab" id="tPred">Predict</button>
</div>

<!-- ================= DATABASE ================= -->
<div id="viewDb">
  <div class="card">
    <b>Saved Database</b>
    <div id="savedStatus" class="small"></div>
    <div class="btnrow">
      <button class="secondary" id="downloadBtn" disabled>Download CSV</button>
      <button class="danger" id="clearBtn" disabled>Clear DB</button>
    </div>
    <div id="summary" class="small"></div>
  </div>

  <div class="card">
    <b>Import CSV</b>
    <input id="fileInput" type="file" accept=".csv">
    <div id="loadStatus" class="small"></div>

    <label>Or paste CSV</label>
    <textarea id="csvText"></textarea>
    <button class="secondary" id="usePastedBtn">Import Pasted CSV</button>
  </div>
</div>

<!-- ================= GENERATOR ================= -->
<div id="viewGen">
  <div class="card">
    <b>Random Generator</b>

    <label>Game</label>
    <select id="genGame">
      <option value="powerball">Powerball</option>
      <option value="ohio_lucky_for_life">Lucky for Life</option>
    </select>

    <label>How many sets?</label>
    <input id="genCount" type="number" value="5">

    <button id="genBtn">Generate</button>
    <div id="genOut" style="margin-top:10px;display:grid;gap:10px"></div>
  </div>
</div>

<!-- ================= PREDICT ================= -->
<div id="viewPred">
  <div class="card">
    <b>Predict (Hot & Cold Numbers)</b>

    <div class="note small">
      Uses historical frequency. Not real prediction.
    </div>

    <label>Game</label>
    <select id="predGame">
      <option value="powerball">Powerball</option>
      <option value="ohio_lucky_for_life">Lucky for Life</option>
    </select>

    <label>Display</label>
    <select id="displayMode">
      <option value="w">Weights</option>
      <option value="c">Counts</option>
      <option value="cw">Counts + Weights</option>
    </select>

    <div class="btnrow">
      <button class="secondary" id="refreshHC">Refresh Hot/Cold</button>
      <button id="predBtn">Generate Likely Numbers</button>
    </div>

    <div class="card" style="background:#fcfcff">
      <b>Hot Numbers</b>
      <div class="chips" id="hotMain"></div>
    </div>

    <div class="card" style="background:#fffafa">
      <b>Cold Numbers</b>
      <div class="chips" id="coldMain"></div>
    </div>

    <div id="predOut" style="margin-top:10px;display:grid;gap:10px"></div>
  </div>
</div>

<script>
/* ---------- Tabs ---------- */
function show(tab){
  viewDb.style.display = tab==="db"?"block":"none";
  viewGen.style.display = tab==="gen"?"block":"none";
  viewPred.style.display = tab==="pred"?"block":"none";
  tDb.classList.remove("active");
  tGen.classList.remove("active");
  tPred.classList.remove("active");
  if(tab==="db") tDb.classList.add("active");
  if(tab==="gen") tGen.classList.add("active");
  if(tab==="pred") tPred.classList.add("active");
}
tDb.onclick=()=>show("db");
tGen.onclick=()=>show("gen");
tPred.onclick=()=>show("pred");

/* ---------- Date ---------- */
const d=new Date();
todayISO.textContent=d.toISOString().slice(0,10);
todayPretty.textContent=d.toDateString();

/* ---------- Simple demo generator ---------- */
genBtn.onclick=()=>{
  genOut.innerHTML="";
  for(let i=0;i<Number(genCount.value||1);i++){
    const box=document.createElement("div");
    box.className="numbers";
    box.textContent="(generated numbers here)";
    genOut.appendChild(box);
  }
};
</script>

</body>
</html>
